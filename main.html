<!DOCTYPE html>

<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- the entire body must be written by student -->
    <form>
      <label for="fontsize">Font Size:</label>
      <input
        type="number"
        id="fontsize"
        name="fontsize"
        min="8"
        max="72"
        value="16"
      />
      <br />
      <label for="fontcolor">Font Color:</label>
      <input type="color" id="fontcolor" name="fontcolor" value="#000000" />
      <br />
      <input type="submit" value="Save" />
    </form>

    <script type="text/javascript" src="./script.js"></script>
	  <script>
		  let fontSize = document.querySelector("#fontsize");
let fontColor = document.querySelector("#fontcolor");
let submitButton = document.querySelector("#submit");

// Debugging logs
console.log("Font Size Element:", fontSize);
console.log("Font Color Element:", fontColor);
console.log("Submit Button Element:", submitButton);

function getCookie(name) {
  let cookies = document.cookie.split("; ");
  for (let cookie of cookies) {
    let [cookieName, cookieValue] = cookie.split("=");
    if (decodeURIComponent(cookieName) === name) {
      return decodeURIComponent(cookieValue);
    }
  }
  return null;
}

function setCookie(name, value) {
  document.cookie = `${encodeURIComponent(name)}=${encodeURIComponent(value)};path=/`;
}

window.onload = function () {
  let getDefaultFontSize = getCookie("font_size");
  let getDefaultColor = getCookie("font_color");

  if (getDefaultFontSize) {
    fontSize.value = getDefaultFontSize;
    document.documentElement.style.setProperty("--fontsize", getDefaultFontSize + "px");
  }
  if (getDefaultColor) {
    fontColor.value = getDefaultColor;
    document.documentElement.style.setProperty("--fontcolor", getDefaultColor);
  }
};

submitButton.addEventListener("click", (e) => {
  e.preventDefault();
  let v_font = fontSize.value;
  let v_color = fontColor.value;
  setCookie("font_size", v_font);
  setCookie("font_color", v_color);
  document.documentElement.style.setProperty("--fontsize", v_font + "px");
  document.documentElement.style.setProperty("--fontcolor", v_color);
});

	  </script>
  </body>
</html>
